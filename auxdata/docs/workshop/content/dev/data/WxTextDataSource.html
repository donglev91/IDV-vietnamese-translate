
<title>Creating a Weather Text Data Source</title>


<div class="overview">
Let's create a custom Data Source for our weather text.
</div>

<ol>
<li>[ht::cdExample]
<li>Open <a href="<%workshop.exampledir%>/WxTextDataSource.java">WxTextDataSource.java</a> in an editor and let's look what's there.
<li>Copy <code>datasource.xml</code> up from the resources subdirectory and
take a look at that.
<li>Now, edit WxTextChooser and change:
<pre>
        makeDataSource(urls, "FILE.ADDETEXT", ht);
</pre>
to:
<pre>
        makeDataSource(urls, "ADDE.WXTEXT", ht);
</pre>
to make the appropriate data source.
<li>Compile the chooser and data source.
<li>Start the IDV.
<li>Select a product from the [ht::command {Weather Text}] chooser
and click the [ht::command {Add Source}] button.
<li>Notice in the [ht::command {Field Selector}], that our
data choices defined in the data source are listed in the
[ht::command Fields] panel.
<li>Expand the first category and click on [ht::param {Weather Text Bulletin}].
Notice which displays are availble for this parameter.
<li>Display the data in the [ht::display {Text/Html Display}].
</ol>
<p>
Now let's remove the extraneous data choices and try this again.
<ol>
<li>Exit the IDV.
<li>Open <a href="<%workshop.exampledir%>/WxTextDataSource.java">WxTextDataSource.java</a> in an editor.
<li>Remove the section in <code>doMakeDataChoices()</code> which adds the
extra data choices.
<li>Start the IDV and load in some weather text.
<li>Notice the change in the [ht::command Fields] panel.
<li>Save this as your default bundle and then reload it.
</ol>
